* {
    box-sizing: border-box;
}

/* Custom Scrollbar */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: #0f0f0f;
}

::-webkit-scrollbar-thumb {
    background: #333;
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: #555;
}

body {
    font-family: 'Roboto', sans-serif;
    background: #0f0f0f; /* Deeper black for higher contrast */
    color: #e0e0e0;
    margin: 0;
    padding-top: 70px;
    overflow-x: hidden;
}

h1, h2, h3, h4, h5, h6 {
    font-family: 'Montserrat', sans-serif;
    margin: 0;
}

/* Login Modal Styles */
#login-modal-backdrop {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7); /* Darker overlay */
    backdrop-filter: blur(15px); /* Increased blur */
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

#login-modal {
    background-color: rgba(20, 20, 20, 0.6);
    backdrop-filter: blur(40px); /* Heavy glass effect */
    -webkit-backdrop-filter: blur(40px);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 16px;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.8);
    width: 750px;
    transition: all 200ms ease-in-out;
    display: flex;
    overflow: hidden;
}

.login-modal-image-container {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    overflow: hidden;
}

.login-modal-image-container::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    width: 50%;
    background: linear-gradient(to right, transparent, rgba(20,20,20,0.6));
}

#login-modal-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
}

.login-modal-content {
    flex: 3;
    padding: 3rem;
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 1.5rem;
    color: #e0e0e0;
}

.login-modal-content h2 {
    font-family: 'Montserrat', sans-serif;
    color: #fff;
    font-size: 2rem;
    margin-bottom: 0.5rem;
    letter-spacing: -0.5px;
}

.login-input {
    width: 100%;
    padding: 12px 16px;
    background-color: rgba(0, 0, 0, 0.4);
    border-radius: 8px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: #fff;
    font-size: 0.95rem;
    transition: all 0.2s ease;
}

.login-input::placeholder {
    color: #666;
}

.login-input:focus {
    outline: none;
    border-color: #ffc107;
    background-color: rgba(0, 0, 0, 0.6);
    box-shadow: 0 0 0 3px rgba(255, 193, 7, 0.1);
}

/* Global Header */
header {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    background-color: rgba(15, 15, 15, 0.8);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    padding: 0 30px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    z-index: 500;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    height: 70px;
}

.header-left, .header-right {
    display: flex;
    align-items: center;
    gap: 15px;
    flex: 1;
}

.header-left {
    justify-content: flex-start;
}

.header-right {
    justify-content: flex-end;
}

.logo-container {
    flex: 0 0 auto;
    height: 100%;
    display: flex;
    align-items: center;
}

#navbar-logo {
    height: 180px; /* Adjusted visually */
    object-fit: contain;
}

.user-info {
    display: flex;
    align-items: center;
    gap: 15px;
    background: rgba(255, 255, 255, 0.03);
    padding: 5px 15px 5px 5px;
    border-radius: 50px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

#user-avatar {
    width: 38px;
    height: 38px;
    border-radius: 50%;
    border: 2px solid #ffc107;
}

#user-balance {
    font-family: 'Science Gothic', sans-serif;
    font-size: 14px;
    font-weight: 600;
    color: #ffc107;
    letter-spacing: 0.5px;
}

/* Unified Button Styles */
.user-profile, #inventory-btn, #back-to-main-btn {
    padding: 0 20px;
    height: 40px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
    font-size: 0.9rem;
    font-family: 'Montserrat', sans-serif;
    border: 1px solid rgba(255, 255, 255, 0.1);
    background: rgba(255, 255, 255, 0.05);
    color: #e0e0e0;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.user-profile:hover, #inventory-btn:hover, #back-to-main-btn:hover {
    background: rgba(255, 193, 7, 0.1);
    border-color: rgba(255, 193, 7, 0.5);
    color: #ffc107;
    box-shadow: 0 0 15px rgba(255, 193, 7, 0.1);
}

/* Login specific adjustments */
#login-btn, #header-login-btn {
    background: #ffc107;
    color: #000;
    border: none;
    box-shadow: 0 4px 15px rgba(255, 193, 7, 0.3);
}

#login-btn:hover, #header-login-btn:hover {
    background: #ffdb4d;
    box-shadow: 0 6px 20px rgba(255, 193, 7, 0.5);
    transform: translateY(-1px);
    color: #000;
    border: none;
}

.user-profile-inner {
    display: flex;
    align-items: center;
    gap: 8px;
    font-weight: 700;
}

.user-profile-inner svg {
    width: 18px;
    height: 18px;
    fill: currentColor;
}

main {
    padding: 40px;
    max-width: 1600px;
    margin: 0 auto;
}

/* Hero Carousel Polish */
.carousel-container {
    position: relative;
    width: 100%;
    max-width: 1200px;
    margin: 0 auto 60px;
    border-radius: 20px;
    overflow: hidden;
    min-height: 250px;
    background: radial-gradient(circle at center, #1a1a1a 0%, #0f0f0f 100%);
    border: 1px solid rgba(255, 255, 255, 0.05);
    box-shadow: 0 20px 40px rgba(0,0,0,0.3);
}

.carousel-content {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 40px;
    height: 100%;
    background: linear-gradient(90deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.5) 100%);
}

.carousel-text h1 {
    font-size: 2.8rem;
    margin-bottom: 10px;
    background: linear-gradient(45deg, #fff, #ffc107);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-shadow: 0 10px 30px rgba(0,0,0,0.5);
}

.carousel-text p {
    color: #aaa;
    font-size: 1.1rem;
    max-width: 500px;
}

.separator-line {
    width: 100%;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
    margin: 60px 0;
}

/* Case Cards - Professional Polish */
#cases-container {
    display: flex;
    justify-content: center;
    gap: 30px;
    flex-wrap: wrap;
    padding: 20px;
}

.case {
    background: #151515;
    width: 240px;
    padding: 25px;
    border-radius: 16px;
    border: 1px solid rgba(255, 255, 255, 0.05);
    display: flex;
    flex-direction: column;
    align-items: center;
    transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
    position: relative;
    overflow: hidden;
    cursor: pointer;
}

.case::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at center, rgba(255, 193, 7, 0.15), transparent 70%);
    opacity: 0;
    transition: opacity 0.4s ease;
}

.case:hover {
    transform: translateY(-10px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
    border-color: rgba(255, 193, 7, 0.3);
}

.case:hover::before {
    opacity: 1;
}

.case img {
    width: 140px;
    height: 140px;
    object-fit: contain;
    margin-bottom: 20px;
    z-index: 1;
    filter: drop-shadow(0 10px 15px rgba(0,0,0,0.5));
    transition: transform 0.4s ease;
}

.case:hover img {
    transform: scale(1.1);
}

.case h3 {
    font-size: 1.1rem;
    color: #fff;
    margin-bottom: 5px;
    z-index: 1;
}

.case p {
    font-family: 'Science Gothic', sans-serif;
    color: rgba(255, 193, 7, 0.8);
    font-size: 0.9rem;
    z-index: 1;
}

/* Case Opening Screen */
#case-opening-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    background-color: #0f0f0f;
    z-index: 100;
    padding: 90px 40px 40px;
    display: flex;
    flex-direction: column;
    align-items: center;
    overflow-y: auto;
}

#case-name-title {
    font-size: 2.5rem;
    background: linear-gradient(to right, #fff, #999);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 40px;
}

/* Roulette Polish */
#roulette-container {
    width: 100%;
    max-width: 1200px;
    height: 220px;
    background: #0a0a0a;
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.05);
    position: relative;
    overflow: hidden;
    box-shadow: inset 0 0 50px rgba(0,0,0,0.8);
    margin-bottom: 50px;
    flex-shrink: 0;
}

#roulette-container::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(90deg, #0a0a0a 0%, transparent 20%, transparent 80%, #0a0a0a 100%);
    z-index: 10;
    pointer-events: none;
}

#roulette-pin {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 50%;
    width: 2px;
    background: #ffc107;
    z-index: 20;
    box-shadow: 0 0 15px #ffc107;
}

#roulette {
    display: flex;
    align-items: center;
    height: 100%;
    position: absolute;
    left: 0; /* JS controls this */
}

.roulette-item {
    width: 170px;
    height: 145px;
    margin: 0 5px;
    background: #161616;
    border-radius: 8px;
    border-bottom: 2px solid var(--rarity-color);
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-end; /* Align content to bottom */
    padding-bottom: 15px; /* Add padding for text */
    flex-shrink: 0;
    overflow: hidden;
}

.roulette-item img {
    width: 100px;
    height: 80px;
    object-fit: contain;
    z-index: 2;
    filter: drop-shadow(0 4px 8px rgba(0,0,0,0.5));
}

.roulette-item p {
    font-size: 0.75rem;
    color: #ccc;
    z-index: 2;
    margin-top: 10px;
    max-width: 90%;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    text-align: center;
}

.roulette-item .hexagon-bg {
    width: 120%;
    height: 120%;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: radial-gradient(circle, var(--rarity-color) 0%, transparent 70%);
    opacity: 0.15;
    z-index: 1;
    -webkit-mask: none; /* Reset mask for roulette background */
    mask: none;
}

/* Winner State */
.roulette-item.winner {
    background: #1f1f1f;
    box-shadow: 0 0 30px rgba(255, 193, 7, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-bottom: 4px solid var(--rarity-color);
    transform: scale(1.1);
    z-index: 15;
}

/* Open Case Button */
#open-case-button {
    background: #ffc107;
    color: #000;
    border: none;
    padding: 15px 50px;
    font-size: 1rem;
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 1px;
    transform: skew(-15deg);
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 20px rgba(255, 193, 7, 0.3);
}

#open-case-button span {
    display: flex;
    align-items: center;
    gap: 10px;
    transform: skew(15deg);
}

#open-case-button:hover {
    background: #ffdb4d;
    box-shadow: 0 0 30px rgba(255, 193, 7, 0.6);
    transform: skew(-15deg) translateY(-2px);
}

#open-case-button:active {
    transform: skew(-15deg) translateY(1px);
}

#open-case-button .btn-price {
    font-family: 'Science Gothic', sans-serif;
    font-weight: 500;
    opacity: 0.7;
    color: #000;
}

/* Sell Button */
#sell-skin-btn {
    background: #28a745;
    color: #fff;
    border: none;
    padding: 15px 40px;
    border-radius: 50px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    cursor: pointer;
    box-shadow: 0 5px 20px rgba(40, 167, 69, 0.3);
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 10px;
}

#sell-skin-btn:hover {
    background: #2ecc71;
    box-shadow: 0 8px 25px rgba(40, 167, 69, 0.5);
    transform: translateY(-2px);
}

#sell-skin-btn .btn-price {
    font-family: 'Science Gothic', sans-serif;
    font-weight: 400;
    background: rgba(0,0,0,0.2);
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 0.9em;
}

/* Grid & Items */
#case-items-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: 15px;
    width: 100%;
    max-width: 1200px;
}

.case-skin-item {
    background: #181818;
    border: 1px solid rgba(255, 255, 255, 0.05);
    border-radius: 8px;
    padding: 10px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
    min-height: 140px;
}

.case-skin-item:hover {
    background: #202020;
    border-color: rgba(255, 255, 255, 0.1);
    transform: translateY(-3px);
}

.case-skin-item::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 4px;
    background: var(--rarity-color);
    box-shadow: 0 0 10px var(--rarity-color);
    opacity: 0.7;
}

.case-skin-item img {
    width: 80px;
    height: 60px;
    object-fit: contain;
    margin-bottom: 10px;
    filter: drop-shadow(0 5px 5px rgba(0,0,0,0.5));
}

.case-skin-item span {
    font-size: 0.75rem;
    color: #aaa;
    text-align: center;
    max-width: 100%;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.skin-percentage {
    position: absolute;
    top: 8px;
    right: 8px;
    font-family: 'Science Gothic', sans-serif;
    font-size: 10px;
    color: rgba(255, 255, 255, 0.5);
}

/* Inventory Page Polish */
#inventory-container {
    padding: 40px;
    max-width: 1400px;
    margin: 0 auto;
}

#inventory-grid-container {
    background: #121212;
    border: 1px solid rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    padding: 20px;
}

.inventory-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    margin-bottom: 30px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    padding-bottom: 20px;
}

.inventory-title h2 {
    font-size: 2.5rem;
    color: #fff;
}

#inventory-count {
    font-family: 'Science Gothic', sans-serif;
    color: #666;
}

.stat-box {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.05);
    padding: 10px 20px;
    border-radius: 8px;
}

#inventory-total-value {
    color: #ffc107;
    font-size: 1.2rem;
    font-weight: 700;
}

/* Scratchcard Polish */
#scratchcard-btn {
    background: transparent;
    color: #aaa;
    border: none;
    font-family: 'Montserrat', sans-serif;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    cursor: pointer;
    padding: 10px 20px;
    transition: all 0.3s;
    font-size: 0.8rem;
}

#scratchcard-btn:hover {
    color: #ffc107;
    text-shadow: 0 0 15px rgba(255, 193, 7, 0.4);
}

#scratchcard-modal {
    background: #1a1a1a;
    border: 1px solid rgba(255, 193, 7, 0.2);
    box-shadow: 0 0 50px rgba(0,0,0,0.8);
    max-width: 800px;
}

.scratch-cell {
    background: #111;
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: inset 0 0 20px rgba(0,0,0,0.5);
}

.scratch-cell.revealed {
    border-color: var(--rarity-color);
    box-shadow: 0 0 15px var(--rarity-color);
}

/* Utility */
.hidden { display: none !important; }

/* Rarity Colors Definitions */
:root {
    --rarity-covert-color: #eb4b4b;
    --rarity-classified-color: #d32ce6;
    --rarity-restricted-color: #8847ff;
    --rarity-mil-spec-color: #4b69ff;
    --rarity-color: #b0c3d9; /* Default Consumer Grade */
}

.rarity-covert { --rarity-color: var(--rarity-covert-color); }
.rarity-classified { --rarity-color: var(--rarity-classified-color); }
.rarity-restricted { --rarity-color: var(--rarity-restricted-color); }
.rarity-mil-spec { --rarity-color: var(--rarity-mil-spec-color); }

/* Ensure hex backgrounds are set for non-roulette items too if needed */
.hexagon-bg {
    display: none; /* Hide old hexagon style in favor of new clean cards */
}

/* Remove hexagon masks from script.js generated items to avoid clutter?
   The script generates them, so we can just hide them via CSS or style them minimally.
   For now, I'm hiding them in the grid for a cleaner look. */

#case-items-grid .hexagon-bg {
    display: none;
}
